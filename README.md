# Практическая 5 (Кан, ЭФБО-10-23)

# Цель работы
## Основные цели практического занятия:

Освоить принципы эффективного отображения коллекций данных во Flutter с использованием ListView.builder

Научиться реализовывать базовую навигацию между экранами с передачей данных через Navigator.push и Navigator.pop

Приобрести практические навыки реализации CRUD-операций (создание, чтение, обновление, удаление) для элементов списка

Изучить механизмы работы с ключами (Keys) для стабильной идентификации элементов в динамических списках

Реализовать дополнительные UX-элементы: поиск, свайп-удаление, подтверждение действий, undo-функционал

## Технические задачи:

Создать полнофункциональное приложение "Simple Notes" для управления заметками

Реализовать корректную передачу данных между главным экраном и экраном редактирования

Обеспечить производительную работу со списками через виртуализацию элементов

Добавить пользовательский интерфейс с соблюдением принципов Material Design

Внедрить обработку ошибок и граничных состояний (пустой список, поиск без результатов)



https://github.com/user-attachments/assets/b17c9ce5-f1c2-4ac3-a058-aafca603218b

# Выводы по результатам работы
## Что получилось:
Успешно реализовано основное приложение "Simple Notes" с полным набором CRUD-операций:

Создание новых заметок с валидацией данных

Редактирование существующих записей

Удаление с подтверждением и возможностью отмены

Интуитивная навигация между экранами

Эффективная работа со списками:

Использован ListView.builder для ленивой загрузки элементов

Реализована виртуализация с правильными ключами (ValueKey)

Добавлены разделители через ListView.separated для лучшего визуального восприятия

Улучшенный пользовательский опыт:

Реализован поиск с фильтрацией по заголовку и содержанию

Добавлен Dismissible для свайп-удаления

Внедрен undo-функционал через SnackBar

Созданы информативные состояния для пустого списка и отсутствия результатов поиска

Корректная архитектура приложения:

Четкое разделение на модели, экраны и виджеты

Правильная передача данных между модулями

Использование иммутабельных моделей данных

Дополнительные функции:

Pull-to-refresh для обновления списка

Форматирование дат создания заметок

Адаптивный дизайн с поддержкой различных размеров экранов

Подтверждение выхода при несохраненных изменениях

# Ответы на контрольные вопросы
## Зачем использовать ListView.builder вместо ListView(children: [...])?

ListView.builder создает элементы "лениво" (по мере необходимости), что экономит память и повышает производительность для больших списков.

ListView(children: [...]) создает все элементы сразу, что может привести к проблемам с производительностью при большом количестве элементов.

## Как передать объект на новый экран и вернуть обновлённый объект обратно?

Передача через конструктор: Navigator.push(context, MaterialPageRoute(builder: (_) => EditNotePage(existing: note)))

Возврат через Navigator.pop(context, updatedNote)

Получение результата: final result = await Navigator.push<Note>(...)

## Чем помогают Key в списках, и какой ключ выбрать для элементов?

Key помогают Flutter идентифицировать элементы при перестроении виджета

Лучший выбор: ValueKey(item.id) - использует уникальный идентификатор объекта

Для Dismissible обязателен стабильный Key для корректной анимации

Как реализовать удаление элемента самым простым способом?

void _deleteNote(Note note) {
  setState(() {
    _notes.removeWhere((n) => n.id == note.id);
  });
}
Что произойдёт, если не вызвать setState после редактирования элемента?

Интерфейс не обновится, изменения не будут отражены на экране

Приложение будет показывать устаревшие данные

## Как быстро сгенерировать уникальный id без внешних пакетов?

String id = DateTime.now().millisecondsSinceEpoch.toString();
// или
String id = UniqueKey().toString();


